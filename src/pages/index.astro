---
import MainLayout from '@/components/MainLayout.astro';
import GameCard from '@/components/GameCard.astro';
import type { Game } from '@/types/Game';
import gamesData from '@/data/games.json';

// Load games data
const games: Game[] = gamesData as Game[];

// Sort games by release date (soonest first)
const sortedGames = [...games].sort((a, b) => {
  return new Date(a.releaseDate).getTime() - new Date(b.releaseDate).getTime();
});
---

<MainLayout title="DropTimer.gg - Track Upcoming Game Releases">
  <!-- Hero Section -->
  <section class="container mx-auto px-4 py-12 md:py-16">
    <div class="text-center mb-12 animate-fade-in">
      <h2 class="text-4xl md:text-5xl font-heading font-bold mb-4 gradient-text">
        Upcoming Game Releases
      </h2>
      <p class="text-lg text-text-secondary max-w-2xl mx-auto">
        Never miss a release. Track countdowns for the hottest games coming to Steam, PlayStation, Xbox, Switch, and PC.
      </p>
    </div>

    <!-- Games Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {sortedGames.map((game, index) => (
        <div
          class="animate-slide-up"
          style={`animation-delay: ${index * 0.1}s; animation-fill-mode: both;`}
        >
          <GameCard game={game} />
        </div>
      ))}
    </div>

    <!-- Empty State (if no games) -->
    {sortedGames.length === 0 && (
      <div class="text-center py-16">
        <p class="text-text-secondary text-lg">No upcoming games found.</p>
      </div>
    )}
  </section>
</MainLayout>

